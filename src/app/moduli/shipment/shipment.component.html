<form class="space-y-8 divide-y divide-gray-200" [formGroup]="formShipment">
  <div class="space-y-8 divide-y divide-gray-200">
    <div>
      <!-- <div class="flex flex-row space-x-6">
        <div class="flex space-x-6 justify-items-center mx-auto">
          <label
            for="country"
            class="block text-sm font-medium text-gray-700 mt-2"
          >
            Seleziona il numero di colli
          </label>
          <select
            #number
            (change)="setPackageNumber(number)"
            class="w-28 lg:w-32 shadow-sm sm:text-sm border-gray-300 rounded-md"
          >
            <option *ngFor="let i of [1, 2, 3, 4, 5]">{{ i }}</option>
          </select>
        </div>
      </div> -->

      <button
      class="mx-auto py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" 
      (click)="addPackage()"
      > 
      Aggiungi collo
    </button>

      <div formArrayName="dimensions">
        <div *ngFor="let package of dimensions.controls; let i = index">
          <div
            class="md:flex md:flex-row w-full items-center w-full p-2"
            [formGroupName]="i"
          >
            <span class="mr-6">{{ i + 1 }})</span>
            <div
              *ngFor="let field of fieldsLabel"
              class="justify-items-center w-full mb-1"
            >
              <div class="grid grid-cols-2 md:grid-cols-1">
                <label>{{ field.label }}</label>
                <input
                  formControlName="{{ field.label }}"
                  step="{{ field.step }}"
                  type="number"
                  min="0"
                  class="w-28 lg:w-32 shadow-sm sm:text-sm border-gray-300 rounded-md"
                  placeholder="{{ field.placeholder }}"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <fieldset>
        <div class="text-base font-medium text-gray-900" aria-hidden="true">
          Assicurazione
        </div>
        <div class="mt-4 space-y-4">
          <div class="relative flex items-start">
            <div class="flex items-center h-5">
              <input
                id="comments"
                name="comments"
                type="checkbox"
                class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"
              />
            </div>
            <div class="ml-3 text-sm">
              <label for="comments" class="font-medium text-gray-700"
                >Andata</label
              >
            </div>
          </div>
          <div class="relative flex items-start">
            <div class="flex items-center h-5">
              <input
                id="candidates"
                name="candidates"
                type="checkbox"
                class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"
              />
            </div>
            <div class="ml-3 text-sm">
              <label for="candidates" class="font-medium text-gray-700"
                >Ritorno</label
              >
            </div>
          </div>
        </div>
      </fieldset>

      <div class="md:flex md:flex-row md:col-span-full space-x-2">
        <select
          (change)="selectCourier(courier)"
          #courier
          [formControlName]="'couriers'"
          id="courier"
          name="courier"
          class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
        >
          <option [defaultSelected]="true" disabled>Seleziona..</option>
          <ng-container *ngFor="let courier of couriers">
            <option>{{ courier.name }}</option>
          </ng-container>
        </select>
        <img
          *ngIf="courierSelected !== null"
          alt="logo corriere"
          class="mt-4 md:mt-0"
          src="https://www.dhl.com/content/dam/dhl/global/core/images/logos/dhl-logo.svg"
        />
      </div>
      <div *ngIf="courierSelected !== null">
        <fieldset class="mt-4">
          <legend class="text-lg font-medium text-gray-900">Servizi</legend>
          <div
            class="mt-4 border-t border-b border-gray-200 divide-y divide-gray-200"
          >
            <div
              class="relative flex items-start py-4"
              *ngFor="let service of services; let i = index"
            >
              <div class="min-w-0 flex-1 text-sm">
                <label class="font-medium text-gray-700 select-none">
                  {{ service.name }}
                </label>
              </div>
              <div class="ml-3 flex items-center h-5">
                <input
                  formControlName="service"
                  name=""
                  id="person-1"
                  name="person-1"
                  type="checkbox"
                  class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"
                />
              </div>
            </div>
          </div>
        </fieldset>
      </div>

      <button
        *ngIf="courierSelected !== null"
        (click)="checkPickUpAviability()"
        type="button"
        class="ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
      >
        Verifica disponibilit√†
      </button>
    </div>
  </div>

  <button
    (click)="incrementStep()"
    class="focus:ring-1 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center mt-4 cursor-pointer bg-yellow-400 text-white"
  >
    Continua
  </button>
</form>
